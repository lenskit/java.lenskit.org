<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Tue Nov 18 14:57:09 CST 2014 -->
<title>IdMeanAccumulator (LensKit 2.2-SNAPSHOT)</title>
<meta name="date" content="2014-11-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IdMeanAccumulator (LensKit 2.2-SNAPSHOT)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/grouplens/lenskit/util/Functional.html" title="class in org.grouplens.lenskit.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/grouplens/lenskit/util/Index.html" title="interface in org.grouplens.lenskit.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/grouplens/lenskit/util/IdMeanAccumulator.html" target="_top">Frames</a></li>
<li><a href="IdMeanAccumulator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.grouplens.lenskit.util</div>
<h2 title="Class IdMeanAccumulator" class="title">Class IdMeanAccumulator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.grouplens.lenskit.util.IdMeanAccumulator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">IdMeanAccumulator</span>
extends java.lang.Object</pre>
<div class="block">An accumulator for means associated with IDs.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.1</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#IdMeanAccumulator()">IdMeanAccumulator</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#computeIdMeans(double,%20double)">computeIdMeans</a></strong>(double&nbsp;offset,
              double&nbsp;damping)</code>
<div class="block">Compute the means for each ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#globalMean()">globalMean</a></strong>()</code>
<div class="block">Get the global mean.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#idMeanOffsets()">idMeanOffsets</a></strong>()</code>
<div class="block">Compute offsets from the global mean for each ID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#idMeanOffsets(double)">idMeanOffsets</a></strong>(double&nbsp;damping)</code>
<div class="block">Compute mean offsets for each item.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#idMeans()">idMeans</a></strong>()</code>
<div class="block">Get the per-ID means.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#put(long,%20double)">put</a></strong>(long&nbsp;id,
   double&nbsp;val)</code>
<div class="block">Accumulate a value with an ID.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="IdMeanAccumulator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>IdMeanAccumulator</h4>
<pre>public&nbsp;IdMeanAccumulator()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="put(long, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public&nbsp;void&nbsp;put(long&nbsp;id,
       double&nbsp;val)</pre>
<div class="block">Accumulate a value with an ID.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - The ID.</dd><dd><code>val</code> - The value.</dd></dl>
</li>
</ul>
<a name="globalMean()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>globalMean</h4>
<pre>public&nbsp;double&nbsp;globalMean()</pre>
<div class="block">Get the global mean.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The global mean value.</dd></dl>
</li>
</ul>
<a name="idMeans()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idMeans</h4>
<pre>public&nbsp;<a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a>&nbsp;idMeans()</pre>
<div class="block">Get the per-ID means.  Equivalent to <code>computeIdMeans(0, 0)</code>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A vector of means for each ID that has been accumulated.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#computeIdMeans(double,%20double)"><code>computeIdMeans(double, double)</code></a></dd></dl>
</li>
</ul>
<a name="computeIdMeans(double, double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeIdMeans</h4>
<pre>public&nbsp;<a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a>&nbsp;computeIdMeans(double&nbsp;offset,
                                   double&nbsp;damping)</pre>
<div class="block">Compute the means for each ID.  This is a generalized mean function, capable of offsetting
 the individual values and damping the overall mean.  For an ID with \(n\) values \(x_1,\dots,x_n\),
 offset \(y\) and damping \(\gamma\), it computes \(\frac{\sum_{i=1}^n x_i - ny}{n + \gamma}\).
 If \(y\) is the global mean, this computes each ID's average deviation from the global mean.
 If \(\gamma\) is additionally positive, then these average deviations are then damped towards
 0, effectively pretending that each ID has an additional \(\gamma\) values at exactly the
 global mean.  If \(y=0\) and \(gamma &gt; 0\), it pretends each ID has additional values at 0.

 <p>The prior (assumed value for additional values) is always 0 in the output domain.  If
 \(y&gt;0\), then the values are offset first, and then damped towards 0.  This method does
 not yet support damping towards some other value; if you need actual damped means, where
 each is damped towards the global mean, add the global mean to the resulting vector.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offset</code> - An offset to subtract from each value prior to averaging.</dd><dd><code>damping</code> - The damping term (see <a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#idMeanOffsets(double)"><code>idMeanOffsets(double)</code></a>).</dd>
<dt><span class="strong">Returns:</span></dt><dd>The vector of means.</dd></dl>
</li>
</ul>
<a name="idMeanOffsets(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idMeanOffsets</h4>
<pre>public&nbsp;<a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a>&nbsp;idMeanOffsets(double&nbsp;damping)</pre>
<div class="block">Compute mean offsets for each item.  Equivalent to <code>computeIdMeans(globalMean(), damping)</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>damping</code> - The damping term.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A vector of mean offsets.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#computeIdMeans(double,%20double)"><code>computeIdMeans(double, double)</code></a></dd></dl>
</li>
</ul>
<a name="idMeanOffsets()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>idMeanOffsets</h4>
<pre>public&nbsp;<a href="../../../../org/grouplens/lenskit/vectors/ImmutableSparseVector.html" title="class in org.grouplens.lenskit.vectors">ImmutableSparseVector</a>&nbsp;idMeanOffsets()</pre>
<div class="block">Compute offsets from the global mean for each ID.  This is equivalent to calling
 <a href="../../../../org/grouplens/lenskit/util/IdMeanAccumulator.html#idMeanOffsets(double)">idMeanOffsets(0)</a>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a vector of offsets.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/grouplens/lenskit/util/Functional.html" title="class in org.grouplens.lenskit.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/grouplens/lenskit/util/Index.html" title="interface in org.grouplens.lenskit.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/grouplens/lenskit/util/IdMeanAccumulator.html" target="_top">Frames</a></li>
<li><a href="IdMeanAccumulator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
