<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Tue Feb 03 20:24:41 CST 2015 -->
<title>Metric (LensKit 2.2-M2)</title>
<meta name="date" content="2015-02-03">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Metric (LensKit 2.2-M2)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/grouplens/lenskit/eval/metrics/AbstractMetric.html" title="class in org.grouplens.lenskit.eval.metrics"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/grouplens/lenskit/eval/metrics/ResultColumn.html" title="annotation in org.grouplens.lenskit.eval.metrics"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/grouplens/lenskit/eval/metrics/Metric.html" target="_top">Frames</a></li>
<li><a href="Metric.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.grouplens.lenskit.eval.metrics</div>
<h2 title="Interface Metric" class="title">Interface Metric&lt;X&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>X</code> - The type of accumulator used by this metric.</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd>java.lang.AutoCloseable, java.io.Closeable</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/grouplens/lenskit/eval/metrics/AbstractMetric.html" title="class in org.grouplens.lenskit.eval.metrics">AbstractMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/predict/CoveragePredictMetric.html" title="class in org.grouplens.lenskit.eval.metrics.predict">CoveragePredictMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/predict/EntropyPredictMetric.html" title="class in org.grouplens.lenskit.eval.metrics.predict">EntropyPredictMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/traintest/FunctionModelMetric.html" title="class in org.grouplens.lenskit.eval.traintest">FunctionModelMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/traintest/FunctionMultiModelMetric.html" title="class in org.grouplens.lenskit.eval.traintest">FunctionMultiModelMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/predict/HLUtilityPredictMetric.html" title="class in org.grouplens.lenskit.eval.metrics.predict">HLUtilityPredictMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/topn/IndependentRecallTopNMetric.html" title="class in org.grouplens.lenskit.eval.metrics.topn">IndependentRecallTopNMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/predict/MAEPredictMetric.html" title="class in org.grouplens.lenskit.eval.metrics.predict">MAEPredictMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/topn/MRRTopNMetric.html" title="class in org.grouplens.lenskit.eval.metrics.topn">MRRTopNMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/predict/NDCGPredictMetric.html" title="class in org.grouplens.lenskit.eval.metrics.predict">NDCGPredictMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/topn/NDCGTopNMetric.html" title="class in org.grouplens.lenskit.eval.metrics.topn">NDCGTopNMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/traintest/OutputPredictMetric.html" title="class in org.grouplens.lenskit.eval.traintest">OutputPredictMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/traintest/OutputTopNMetric.html" title="class in org.grouplens.lenskit.eval.traintest">OutputTopNMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/topn/PrecisionRecallTopNMetric.html" title="class in org.grouplens.lenskit.eval.metrics.topn">PrecisionRecallTopNMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/predict/RMSEPredictMetric.html" title="class in org.grouplens.lenskit.eval.metrics.predict">RMSEPredictMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/topn/TopNEntropyMetric.html" title="class in org.grouplens.lenskit.eval.metrics.topn">TopNEntropyMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/topn/TopNLengthMetric.html" title="class in org.grouplens.lenskit.eval.metrics.topn">TopNLengthMetric</a>, <a href="../../../../../org/grouplens/lenskit/eval/metrics/topn/TopNPopularityMetric.html" title="class in org.grouplens.lenskit.eval.metrics.topn">TopNPopularityMetric</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Metric&lt;X&gt;</span>
extends java.io.Closeable</pre>
<div class="block">Base interface for metrics, which are used by evaluations to measure their results.  Metrics may
 have additional resources backing them, such as extra output files, and therefore must be closed.

 <p>
 Metrics use <em>contexts</em> to track and accumulate data for experimental conditions.  For each
 experimental condition (algorithm / data set pair), the evaluator will do the following:

 <ol>
 <li>Create a context for the experiment using <a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#createContext-org.grouplens.lenskit.eval.Attributed-org.grouplens.lenskit.eval.data.traintest.TTDataSet-org.grouplens.lenskit.Recommender-"><code>createContext(Attributed, TTDataSet, Recommender)</code></a>.</li>
 <li>Measure each test user with <a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#measureUser-org.grouplens.lenskit.eval.traintest.TestUser-X-"><code>measureUser(TestUser, Object)</code></a>, passing in the context
 in which the user should be evaluated.</li>
 <li>Output the result of each user measurement to the per-user output table (if active).</li>
 <li>Obtain the aggregate results from this metric with <a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#getResults-X-"><code>getResults(Object)</code></a>.</li>
 </ol>

 <p>
 The context will general consist of accumulators for the aggregate results reported by a metric
 over the entire experimental condition, such as the average of all user measurements.  It may
 also contain additional relevant information, such as anything needed from the algorithm and
 data set for the measurements, or additional output tables for recording extra data.

 <p>
 Metrics themselves are generally stateless, with all state contained in the context.  In this
 case, there is a single instance of the metric, or an instance per parameterization, and the
 <code>Closeable.close()</code> method is a no-op.  Some metrics need state or output resources; such metrics
 should define a <a href="../../../../../org/grouplens/lenskit/eval/traintest/MetricFactory.html" title="class in org.grouplens.lenskit.eval.traintest"><code>MetricFactory</code></a> to instantiate them,
 and clean up and release resources or state in <code>Closeable.close()</code>.

 <p>
 Metrics may be used from multiple threads.  LensKit does not currently use multiple threads with
 the same context, but that may change in the future.

 <p>
 <a href="../../../../../org/grouplens/lenskit/eval/metrics/AbstractMetric.html" title="class in org.grouplens.lenskit.eval.metrics"><code>AbstractMetric</code></a> provides a base implementation of this interface that allows user and
 aggregate measurements to be defined in plan Java objects, so metrics do not need to handle
 creating table rows themselves.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.10 (rewritten in 2.1)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html" title="type parameter in Metric">X</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#createContext-org.grouplens.lenskit.eval.Attributed-org.grouplens.lenskit.eval.data.traintest.TTDataSet-org.grouplens.lenskit.Recommender-">createContext</a></span>(<a href="../../../../../org/grouplens/lenskit/eval/Attributed.html" title="interface in org.grouplens.lenskit.eval">Attributed</a>&nbsp;algorithm,
             <a href="../../../../../org/grouplens/lenskit/eval/data/traintest/TTDataSet.html" title="interface in org.grouplens.lenskit.eval.data.traintest">TTDataSet</a>&nbsp;dataSet,
             <a href="../../../../../org/grouplens/lenskit/Recommender.html" title="interface in org.grouplens.lenskit">Recommender</a>&nbsp;recommender)</code>
<div class="block">Create the context for an experimental condition (algorithm/data set pair).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#getColumnLabels--">getColumnLabels</a></span>()</code>
<div class="block">Get labels for the aggregate columns output by this evaluator.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#getResults-X-">getResults</a></span>(<a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html" title="type parameter in Metric">X</a>&nbsp;context)</code>
<div class="block">Get the aggregate results from an accumulator.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#getUserColumnLabels--">getUserColumnLabels</a></span>()</code>
<div class="block">Get labels for the per-user columns output by this evaluator.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.Object&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#measureUser-org.grouplens.lenskit.eval.traintest.TestUser-X-">measureUser</a></span>(<a href="../../../../../org/grouplens/lenskit/eval/traintest/TestUser.html" title="interface in org.grouplens.lenskit.eval.traintest">TestUser</a>&nbsp;user,
           <a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html" title="type parameter in Metric">X</a>&nbsp;context)</code>
<div class="block">Measure a user in the evaluation.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.io.Closeable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.io.Closeable</h3>
<code>close</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getColumnLabels--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnLabels</h4>
<pre>java.util.List&lt;java.lang.String&gt;&nbsp;getColumnLabels()</pre>
<div class="block">Get labels for the aggregate columns output by this evaluator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The labels for this evaluator's output, used as column headers when
         outputting the results table.</dd>
</dl>
</li>
</ul>
<a name="getUserColumnLabels--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUserColumnLabels</h4>
<pre>java.util.List&lt;java.lang.String&gt;&nbsp;getUserColumnLabels()</pre>
<div class="block">Get labels for the per-user columns output by this evaluator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The labels for this evaluator's per-user output, used as column headers
         when outputting the results table.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#measureUser-org.grouplens.lenskit.eval.traintest.TestUser-X-"><code>measureUser(TestUser, Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="createContext-org.grouplens.lenskit.eval.Attributed-org.grouplens.lenskit.eval.data.traintest.TTDataSet-org.grouplens.lenskit.Recommender-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createContext</h4>
<pre>@Nullable
<a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html" title="type parameter in Metric">X</a>&nbsp;createContext(<a href="../../../../../org/grouplens/lenskit/eval/Attributed.html" title="interface in org.grouplens.lenskit.eval">Attributed</a>&nbsp;algorithm,
                          <a href="../../../../../org/grouplens/lenskit/eval/data/traintest/TTDataSet.html" title="interface in org.grouplens.lenskit.eval.data.traintest">TTDataSet</a>&nbsp;dataSet,
                          <a href="../../../../../org/grouplens/lenskit/Recommender.html" title="interface in org.grouplens.lenskit">Recommender</a>&nbsp;recommender)</pre>
<div class="block">Create the context for an experimental condition (algorithm/data set pair).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>algorithm</code> - The algorithm.</dd>
<dd><code>dataSet</code> - The data set.</dd>
<dd><code>recommender</code> - The LensKit recommender, if applicable.  This can be null for an external
                    algorithm that does not provide a LensKit recommender.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The accumulator.  This will be passed to <a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html#measureUser-org.grouplens.lenskit.eval.traintest.TestUser-X-"><code>measureUser(TestUser, Object)</code></a>. If
 the metric does not accumulate any results, this method can return <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="measureUser-org.grouplens.lenskit.eval.traintest.TestUser-java.lang.Object-">
<!--   -->
</a><a name="measureUser-org.grouplens.lenskit.eval.traintest.TestUser-X-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>measureUser</h4>
<pre>@Nonnull
java.util.List&lt;java.lang.Object&gt;&nbsp;measureUser(<a href="../../../../../org/grouplens/lenskit/eval/traintest/TestUser.html" title="interface in org.grouplens.lenskit.eval.traintest">TestUser</a>&nbsp;user,
                                                      <a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html" title="type parameter in Metric">X</a>&nbsp;context)</pre>
<div class="block">Measure a user in the evaluation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - The user to evaluate.</dd>
<dd><code>context</code> - The context for the active experimental condition.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The table rows resulting from this user's measurement.</dd>
</dl>
</li>
</ul>
<a name="getResults-java.lang.Object-">
<!--   -->
</a><a name="getResults-X-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getResults</h4>
<pre>@Nonnull
java.util.List&lt;java.lang.Object&gt;&nbsp;getResults(<a href="../../../../../org/grouplens/lenskit/eval/metrics/Metric.html" title="type parameter in Metric">X</a>&nbsp;context)</pre>
<div class="block">Get the aggregate results from an accumulator.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - The context for an experimental condition.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The aggregate results from the accumulator.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/grouplens/lenskit/eval/metrics/AbstractMetric.html" title="class in org.grouplens.lenskit.eval.metrics"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/grouplens/lenskit/eval/metrics/ResultColumn.html" title="annotation in org.grouplens.lenskit.eval.metrics"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/grouplens/lenskit/eval/metrics/Metric.html" target="_top">Frames</a></li>
<li><a href="Metric.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
